{% extends 'system/base.html' %}

{% load widget_tweaks %}
{% load crispy_forms_tags %}
{% load static %}
{% block content %}

<body>
<!-- Pre-loader start -->
<div class="theme-loader">
<div class="ball-scale">
<div class="contain">
<div class="ring">
<div class="frame"></div>
</div>
<div class="ring">
<div class="frame"></div>
</div>
<div class="ring">
<div class="frame"></div>
</div>
<div class="ring">
<div class="frame"></div>
</div>
<div class="ring">
<div class="frame"></div>
</div>
<div class="ring">
<div class="frame"></div>
</div>
<div class="ring">
<div class="frame"></div>
</div>
<div class="ring">
<div class="frame"></div>
</div>
<div class="ring">
<div class="frame"></div>
</div>
<div class="ring">
<div class="frame"></div>
</div>
</div>
</div>
</div>

</body>

<script src="{% url 'js-catlog' %}"></script>
<script src="{% static '/admin/js/core.js' %}"></script>
<link rel="stylesheet" href="{% static 'admin/css/base.css' %}">
<link rel="stylesheet" href="{% static 'admin/css/widgets.css' %}">


<div class="pcoded-content">
<div class="pcoded-inner-content">
<div class="main-body">
<div class="page-wrapper">
<div class="page-body">

<div class="row " data-aos="fade-up" data-aos-duration="1000">

<div class="card" style="">
<div class="card-block caption-breadcrumb">
<div class="breadcrumb-header">


<h1 class="font-weight-bold mb-3">Quotation Form <i class="feather icon-box hvr-pulse"></i></h1>
<span style="opacity:0.5;">Update your quotation form, it will be listed in the quotation list </div>
<div class="page-header-breadcrumb">
<ul class="breadcrumb-title">
<li style="color: aliceblue;" class="breadcrumb-item">
<a href="{% url 'dashboard' %}"> <i class="feather icon-home"data-toggle="tooltip" data-placement="top" title="Go to Homepage"></i> </a>
</li>
<div class="breadcrumb-item"><a href="">Manage Quotation</a>
</div>
<div class="breadcrumb-item"><a href="">Quotation List</a>
</div>
</ul>
</div>
</div>
<h1 class="text-uppercase text-center text-white mb-5"></h1>





<form action="" method="POST">
{% csrf_token %}
{{ form.media }}




<div class="form-row">
<div class="col-md-5" data-toggle="tooltip" data-placement="top" title="Add and Select Customers">
Customer <i  data-toggle="modal" data-target="#exampleModalCenter1" class="feather icon-plus-circle" data-toggle="tooltip" data-placement="top" title="Add Customer"></i> {% render_field form.customer class="js-example-basic-single" %}
</div>



<div class="col-md-5" data-toggle="tooltip" data-placement="top" title="Select Mode of Transport" style="margin-left:80px;">
Mode of Transport <i class="fa fa-car" aria-hidden="true"></i> {% render_field form.mode_of_transport class="js-example-basic-single"  %}
</div>

</div>



<br />
<div class="form-row">
<div class="col-md-5" data-toggle="tooltip" data-placement="top" title="Add Quotation Type">
Quotation Type <i class="fa fa-list" aria-hidden="true"></i> {% render_field form.type  class="js-example-basic-single" style="height:37px"  %}
</div>

<div class="col" data-toggle="tooltip" data-placement="top" title="Enter Airport of Origin" style="margin-left:80px;">
Airport of Origin <i class="fa fa-plane" aria-hidden="true"></i>{% render_field form.airport_of_origin class="form-control col-md-10" style="height:37px" placeholder="Enter Airport of origin " %}
</div>

</div>
<br />
<div class="form-row">
<div class="col" data-toggle="tooltip" data-placement="top" title="Enter Airport of Destination">
Airport Destination <i class="fa fa-plane" aria-hidden="true"></i> {% render_field form.airport_of_destination class="form-control col-md-10" style="height:37px" placeholder="Enter Airport of Destination " %}
</div>

<div class="col" data-toggle="tooltip" data-placement="top" title="Enter number of pieces">
Pieces
<i class="fa fa-archive" aria-hidden="true"></i> {% render_field form.no_of_shipment class="form-control col-md-10" type="number" style="height:37px" placeholder="Enter no of Pieces " %}
</div>

</div>



<br />
<div class="form-row">
<div class="col" data-toggle="tooltip" data-placement="top" title="Enter Weight of Shipment">
Weight of Shipment <i class="fas fa-weight" ></i> {% render_field form.weights_of_shipment class="form-control col-md-10" type="number" placeholder="Default value in KG" style="height:37px" %}
</div>

<div class="col" data-toggle="tooltip" data-placement="top" title="Emter AMS Fee">
AMS Fee <i class="fa fa-envelope" aria-hidden="true"></i> {% render_field form.ams_fee class="form-control col-md-10" type="number" style="height:37px" placeholder="Enter AMS fee " %}
</div>

</div>




<br />

<div class="form-row">
<div class="col" data-toggle="tooltip" data-placement="top" title="Add Quotation Routine">
Quotation Routine <i class="fa fa-calendar" aria-hidden="true"></i> {% render_field form.routine class="form-control col-md-10" style="height:37px" placeholder="Describe your routine " %}
</div>


<div class="col" data-toggle="tooltip" data-placement="top" title="Add Payments Terms">
Payment Terms <i class="fa fa-credit-card" aria-hidden="true"></i>{% render_field form.payment_terms class="form-control col-md-10"style="height:37px" placeholder="Enter Payment Terms" %}
</div>


</div>

<br />
<div  class="form-row">
<div class="col" data-toggle="tooltip" data-placement="top" title="Manually add or select Date">
Date <i class="fa fa-calendar" aria-hidden="true"></i> {% render_field form.date class="form-control col-md-10" type="date" style="height:37px"  %}
</div>

<div class="col" data-toggle="tooltip" data-placement="top" title="Manually add or select Time">
Time <i class="fa fa-clock  " aria-hidden="true"></i> {% render_field form.time class="form-control col-md-10" type="time" style="height:37px" %}
</div>


</div>





<br />

<div class="form-row" >
<div class="col" data-toggle="tooltip" data-placement="left" title="Enter Charges in rs.">

Charges <i class="fa fa-fax" aria-hidden="true"></i> {% render_field form.charges class="form-control col-md-10" type="number" style="height:37px" placeholder="Enter Charges "%}
</div>

<div class="col" data-toggle="tooltip" data-placement="right" title="Create Custom Clearance">
Custom Clearance <i class="fa fa-university" aria-hidden="true"></i> {% render_field form.custom_clearance class="form-control col-md-10" style="height:37px" placeholder="Input Custom Clearance" %}
</div>

</div>


<br>
<div class="form-row">
<div class="col-md-5" data-toggle="tooltip" data-placement="left" title="Add and Select Commodities">
    Commodity <i  data-toggle="modal" data-target="#exampleModalCenter2" class="feather icon-plus-circle" data-toggle="tooltip" data-placement="top" title="Add Commodity"></i>
    {% render_field form.commodity class="js-example-basic-multiple"  multiple="multiple" style="height:37px" placeholder="Enter Airport of origin " %}
</div>




<div class="col-md-5" data-toggle="tooltip" data-placement="right" title="Add Work of Scope" style="left:83px;">
    Work of Scope <i data-toggle="modal" data-target="#exampleModalCenter" class="feather icon-plus-circle"></i>
{% render_field form.work_of_scope class="js-example-basic-multiple  form-control"  multiple="multiple" style="margin-left:20px;"  style="height:37px"%}


</div>







</div>
<br>


<div class="form-row">
<div class="col-md-5" data-toggle="tooltip" data-placement="right" title="Add Quotation Carrier">
Quotation Carrier <i class="fa fa-truck" aria-hidden="true"></i> {% render_field form.carrier class="form-control" style="height:37px" placeholder="Input Carrier " %}
</div>
</div>





<br>
<div class="d-flex justify-content-center">

<button type="submit" style="background-color:#353c4e;margin:10px;" class="btn btn-primary hvr-pulse btn btn-default waves-effect"><i class="fas fa-step-forward" data-toggle="tooltip" data-placement="top" title="Summit Form"></i>Continue</button>
</div>
<br>









</div>
</div>

</form>


</div>


<!-- Button trigger modal -->
<script>

// Example starter JavaScript for disabling form submissions if there are invalid fields
(function () {
'use strict'

// Fetch all the forms we want to apply custom Bootstrap validation styles to
var forms = document.querySelectorAll('.needs-validation')

// Loop over them and prevent submission
Array.prototype.slice.call(forms)
.forEach(function (form) {
form.addEventListener('submit', function (event) {
if (!form.checkValidity()) {
event.preventDefault()
event.stopPropagation()
}

form.classList.add('was-validated')
}, false)
})
})()
</script>

<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered" role="document">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title" id="exampleModalLongTitle">Add Work of Scope</h5>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
</div>
<div class="modal-body">
<form method="POST">
{% csrf_token %}
{{scope|crispy}}
<button type="button" class="btn btn-secondary hvr-pulse" data-dismiss="modal">Close</button>
<button type="submit" class="btn btn-primary hvr-pulse">Save changes</button>
</form>
</div>

</div>
</div>
</div>


<div class="modal fade" id="exampleModalCenter1" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered" role="document">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title" id="exampleModalLongTitle1">Add Customers </h5>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
</div>
<div class="modal-body">
<form method="POST">
{% csrf_token %} {{customers|crispy}}
<button type="button" class="btn btn-secondary hvr-pulse" data-dismiss="modal">Close</button>
<button type="submit" class="btn btn-primary hvr-pulse">Save changes</button>
</form>
</div>

</div>
</div>
</div>




<div class="modal fade" id="exampleModalCenter2" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered" role="document">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title" id="exampleModalLongTitle2">Add Commodity </h5>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
</div>
<div class="modal-body">
<form method="POST" >
{% csrf_token %}
{{commodity|crispy}}
<button type="button" class="btn btn-secondary hvr-pulse" data-dismiss="modal">Close</button>
<button type="submit"  class="btn btn-primary hvr-pulse">Save changes</button>
</form>
</div>

</div>
</div>
</div>










<script>
let form = document.getElementById('commodity1')
let commentContainer = document.getElementById('media-body')

form.addEventListener('submit', stopReload)
function stopReload(e){
e.preventDefault()
let commenter = document.createElement('h5')
let comment = document.createElement('p')
commenter.classList.add('mt-0')
$.ajax({
type: "POST",
url: "{% url 'quotation-create'  %}",
data: $("#commodity1").serialize(),
datatype: "json",
success: function(data){

form.reset()
}
})
}

</script>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

{% endblock %}
</div>
</div>
</div>
</div>
</div>